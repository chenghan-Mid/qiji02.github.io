<!DOCTYPE html>
<html lang="zh-cn">
<head>
	<meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0;" />
	<title></title>
	<style type="text/css">
		body {
                margin: 0;
        }
	</style>
	
	<script type="text/javascript">
        function loadfile(obj) {
            var reader = new FileReader();
            var file = obj.files[0];
            reader.readAsDataURL(file);
            reader.onload = function () {
                iframe=document.getElementById('iframe');
                var container=document.createElement('div');
                container.setAttribute("class", "container");
                var img=document.createElement('img');
                img.setAttribute("class", "imgs");
                img.setAttribute("src", reader.result);
                iframe.contentWindow.drag(img);
                var dragBtn=document.createElement('div');
                dragBtn.setAttribute("class", "dragBtn btn");
                iframe.contentWindow.dragTo(dragBtn);
                var delBtn=document.createElement('div');
                delBtn.setAttribute("ontouchend", "this.parentElement.remove()");
                delBtn.setAttribute("class", "delBtn btn");
                delBtn.setAttribute("onclick", "this.parentElement.remove()");

                container.appendChild(img);
                container.appendChild(dragBtn);
                container.appendChild(delBtn);
                iframe.contentWindow.document.getElementById('back').appendChild(container);
                // var data = reader.result;   //base64形式的文件内容
            };
            reader.onerror = function(){
                console.log('读取失败');
                console.log(reader.error);
            }
        }
	</script>
</head>
    <body>
        <input type="file" id="fileInput" onchange="loadfile(this)">
        <button onclick="document.getElementById('iframe').contentWindow.printpage()" id="printBtn">打印</button>
        <iframe id="iframe" style="height: 100vh;width: 100vw;" src="111.html" frameborder="1px"></iframe>
    </body>
</html>